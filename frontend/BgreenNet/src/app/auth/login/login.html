<!-- login.html -->
<div class="login-page">
  <!-- Header -->
  <header class="header">
    <div class="logo-section">
      <div class="logo">
        <img class="logo_Bgreen_header" src="https://bgreen.com.co/Img/bgreen_Logo.png" alt="">
      </div>
      <div class="stats">
        <div class="stat-item">
          <span class="stat-icon">ğŸ“Š</span>
          <span class="stat-text">TRM: $ 3,877.26</span>
        </div>
        <div class="stat-item">
          <span class="stat-icon">ğŸ’°</span>
          <span class="stat-text">CPD FEP: $ 4,929.994</span>
        </div>
        <div class="stat-item">
          <span class="stat-icon">ğŸ“ˆ</span>
          <span class="stat-text">BTCD: $ 19,367.00</span>
        </div>
      </div>
    </div>
    
    <div class="header-spacer"></div>
  </header>

  <!-- Contenedor del Login -->
  <div class="login-container">
    <div class="login-card">
      <div class="brand">
        <h1>BGREEN<span>NET</span></h1>
      </div>

      <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
        <!-- Campo Usuario -->
        <div class="form-group">
          <label for="usuario">Usuario</label>
          <div class="input-wrapper">
            <span class="input-icon">ğŸ‘¤</span>
            <input id="usuario" type="text" formControlName="usuario" placeholder="Ingresa tu usuario"
              [class.error]="usuario?.invalid && usuario?.touched" />
          </div>
          <div class="error-message" *ngIf="usuario?.invalid && usuario?.touched">
            <span *ngIf="usuario?.errors?.['required']">El usuario es requerido</span>
            <span *ngIf="usuario?.errors?.['minlength']">
              MÃ­nimo 3 caracteres
            </span>
          </div>
        </div>

        <!-- Campo ContraseÃ±a -->
        <div class="form-group">
          <label for="contrasena">ContraseÃ±a</label>
          <div class="input-wrapper">
            <span class="input-icon">ğŸ”’</span>
            <input id="contrasena" [type]="showPassword ? 'text' : 'password'" formControlName="contrasena"
              placeholder="Ingresa tu contraseÃ±a" [class.error]="contrasena?.invalid && contrasena?.touched" />
            <button type="button" class="toggle-password" (click)="togglePasswordVisibility()" tabindex="-1">
              {{ showPassword ? 'ğŸ™ˆ': 'ğŸ‘ï¸' }}
            </button>
          </div>
          <div class="error-message" *ngIf="contrasena?.invalid && contrasena?.touched">
            <span *ngIf="contrasena?.errors?.['required']">La contraseÃ±a es requerida</span>
            <span *ngIf="contrasena?.errors?.['minlength']">
              MÃ­nimo 6 caracteres
            </span>
          </div>
        </div>

        <!-- Mensaje de error global -->
        <div class="alert alert-error" *ngIf="showError">
          <span class="alert-icon">âš ï¸</span>
          {{ errorMessage }}
        </div>

        <!-- BotÃ³n de envÃ­o -->
        <button type="submit" class="btn-submit" [disabled]="loginForm.invalid || isLoading">
          <span *ngIf="!isLoading">Iniciar SesiÃ³n</span>
          <span *ngIf="isLoading">Iniciando sesiÃ³n...</span>
        </button>

      </form>

      <div class="login-footer">
        <p class="powered-by">TIC</p>
      </div>
    </div>
  </div>
</div>